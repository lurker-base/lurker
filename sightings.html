<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sightings — lurker</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="alternate icon" type="image/png" href="favicon.png">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="bg-grid"></div>
    
    <nav class="nav">
        <a href="index.html" class="nav-link">lurker</a>
        <a href="#" class="nav-link">token</a>
        <a href="deep.html" class="nav-link">the deep</a>
        <a href="origin.html" class="nav-link">origin</a>
        <a href="sightings.html" class="nav-link active">sightings</a>
        <a href="proof.html" class="nav-link">proof</a>
        <a href="hall-of-fame.html" class="nav-link">hall of fame</a>
        <a href="watch.html" class="nav-link">watch</a>
        <a href="become.html" class="nav-link">become</a>
        <a href="live.html" class="nav-link">live</a>
        <a href="agents.html" class="nav-link">for agents</a>
        <a href="pulse.html" class="nav-link">pulse</a>
        <a href="stats.html" class="nav-link">stats</a>
        <a href="https://x.com/LURKER_AI2026" class="nav-link" target="_blank"><svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="vertical-align:middle;margin-top:-2px"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg></a>
    </nav>

    <main class="main">
        <div class="container page-container with-sidebar">
            <div class="page-sidebar">
                <div class="avatar-wrapper" id="avatar-wrapper">
                    <img src="../assets/lurker-mascot-logo.png" alt="" class="avatar">
                    <div class="avatar-glow"></div>
                    <div class="sparks-container" id="sparks"></div>
                </div>
            </div>
            <div class="page-content">
                <h1 class="page-title">sightings</h1>
                
                <div class="signal-intro">
                    <p>not all movement is equal. some is current. some is creature.</p>
                    <p class="signal-sub">we distinguish. you receive.</p>
                </div>

                <div class="section">
                    <div class="section-title">recent sightings</div>
                    <div class="signals-list">
                        <div class="signal-item high">
                            <div class="signal-header">
                                <span class="signal-badge high">confirmed</span>
                                <span class="signal-time">12 min ago</span>
                            </div>
                            <div class="signal-body">
                                <span class="signal-type">accumulation</span>
                                <span class="signal-wallet">0x7Bf0...1542</span>
                                <span class="signal-amount">47.5 ETH</span>
                            </div>
                            <div class="signal-meta">
                                pattern: repetitive displacement | velocity: high | pressure: significant
                            </div>
                        </div>

                        <div class="signal-item medium">
                            <div class="signal-header">
                                <span class="signal-badge medium">tracking</span>
                                <span class="signal-time">28 min ago</span>
                            </div>
                            <div class="signal-body">
                                <span class="signal-type">large displacement</span>
                                <span class="signal-wallet">0x9Ac3...78D2</span>
                                <span class="signal-amount">23.1 ETH</span>
                            </div>
                            <div class="signal-meta">
                                pattern: single pulse | velocity: normal | pressure: moderate
                            </div>
                        </div>

                        <div class="signal-item low">
                            <div class="signal-header">
                                <span class="signal-badge low">observed</span>
                                <span class="signal-time">45 min ago</span>
                            </div>
                            <div class="signal-body">
                                <span class="signal-type">wallet awakening</span>
                                <span class="signal-wallet">0x3F21...9A1B</span>
                                <span class="signal-amount">dormant 45d</span>
                            </div>
                            <div class="signal-meta">
                                pattern: reactivation | velocity: low | pressure: unknown
                            </div>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <div class="section-title">detection types</div>
                    <div class="signal-types">
                        <div class="type-card">
                            <span class="type-name">accumulation</span>
                            <span class="type-desc">repetitive small displacements indicating position building</span>
                        </div>
                        <div class="type-card">
                            <span class="type-name">distribution</span>
                            <span class="type-desc">pressure release across multiple transactions</span>
                        </div>
                        <div class="type-card">
                            <span class="type-name">whale breach</span>
                            <span class="type-desc">large single displacement above threshold</span>
                        </div>
                        <div class="type-card">
                            <span class="type-name">awakening</span>
                            <span class="type-desc">dormant wallets becoming active</span>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <div class="section-title">recent sightings</div>
                    <div class="signals-list" id="whale-alerts">
                        <!-- Alerts will be loaded here -->
                        <div class="signal-item high">
                            <div class="signal-header">
                                <span class="signal-badge high">confirmed</span>
                                <span class="signal-time">loading...</span>
                            </div>
                            <div class="signal-body">
                                <span class="signal-type">loading whale data...</span>
                                <span class="signal-wallet">--</span>
                                <span class="signal-amount">--</span>
                            </div>
                        </div>
                    </div>
                    <div class="view-more">
                        <a href="live.html" class="mono">view live feed →</a>
                    </div>
                </div>

                <div class="section">
                    <div class="section-title">one-shot services</div>
                    <div class="services-list">
                        <div class="service-item">
                            <div class="service-header">
                                <span class="service-name">watch one wallet</span>
                                <span class="service-price">$5</span>
                            </div>
                            <p class="service-desc">track a single wallet for 30 days. alerts to your telegram.</p>
                            <a href="#" class="service-cta">request →</a>
                        </div>
                        
                        <div class="service-item">
                            <div class="service-header">
                                <span class="service-name">whale report</span>
                                <span class="service-price">$15</span>
                            </div>
                            <p class="service-desc">detailed analysis of any address. holdings, patterns, history.</p>
                            <a href="#" class="service-cta">request →</a>
                        </div>
                        
                        <div class="service-item">
                            <div class="service-header">
                                <span class="service-name">custom bot setup</span>
                                <span class="service-price">$50</span>
                            </div>
                            <p class="service-desc">your own lurker instance. github repo, cron, alerts. you control it.</p>
                            <a href="#" class="service-cta">request →</a>
                        </div>
                    </div>
                    
                    <div class="payment-note">
                        <span class="mono">pay with usdc on base — instant settlement, no accounts</span>
                    </div>
                </div>

                <div class="section">
                    <div class="section-title">access levels</div>
                    <div class="subscribe-options">
                        <div class="subscribe-tier">
                            <div class="tier-header">
                                <span class="tier-name">drift</span>
                                <span class="tier-price">free</span>
                            </div>
                            <ul class="tier-features">
                                <li>public sightings dashboard</li>
                                <li>1-hour delay on echoes</li>
                                <li>5 wallets tracked</li>
                            </ul>
                            <a href="#" class="tier-cta">enter →</a>
                        </div>

                        <div class="subscribe-tier featured">
                            <div class="tier-header">
                                <span class="tier-name">current</span>
                                <span class="tier-price">$19<span>/mo</span></span>
                                <span class="lurker-price" id="current-lurker">≈ -- LURKER</span>
                            </div>
                            <ul class="tier-features">
                                <li>real-time telegram echoes</li>
                                <li>confirmed sightings only</li>
                                <li>50 wallets tracked</li>
                                <li>api access</li>
                            </ul>
                            <a href="#" class="tier-cta">descend →</a>
                        </div>

                        <div class="subscribe-tier">
                            <div class="tier-header">
                                <span class="tier-name">depth</span>
                                <span class="tier-price">$49<span>/mo</span></span>
                                <span class="lurker-price" id="depth-lurker">≈ -- LURKER</span>
                            </div>
                            <ul class="tier-features">
                                <li>everything in current</li>
                                <li>unlimited wallets</li>
                                <li>custom telegram bot</li>
                                <li>webhook integration</li>
                                <li>priority support</li>
                            </ul>
                            <a href="#" class="tier-cta">submerge →</a>
                        </div>
                    </div>
                    
                    <div class="pricing-note">
                        <span class="mono">prices in usd — lurker equivalent calculated at current market rate</span>
                        <br>
                        <span class="mono">3% burn on transfers · 80% treasury / 20% burn on service payments</span>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="footer">
        <span class="mono">the echo is the message</span>
    </footer>

    <script>
        // Calculate LURKER prices based on current market rate
        // When token is live, fetch real price from DexScreener API
        
        const LURKER_PRICE_USD = 0.005; // Placeholder - will be dynamic
        
        function calculateLurkerPrice(usdAmount) {
            const lurkerAmount = Math.ceil(usdAmount / LURKER_PRICE_USD);
            return lurkerAmount.toLocaleString();
        }
        
        function updateLurkerPrices() {
            const currentPrice = calculateLurkerPrice(19);
            const depthPrice = calculateLurkerPrice(49);
            
            const currentEl = document.getElementById('current-lurker');
            const depthEl = document.getElementById('depth-lurker');
            
            if (currentEl) currentEl.textContent = `≈ ${currentPrice} LURKER`;
            if (depthEl) depthEl.textContent = `≈ ${depthPrice} LURKER`;
        }
        
        // Update on load
        updateLurkerPrices();
        
        // TODO: When token is live, fetch real price:
        // fetch('https://api.dexscreener.com/latest/dex/tokens/0xLURKER...')
        //   .then(r => r.json())
        //   .then(data => {
        //     const price = data.pairs[0].priceUsd;
        //     LURKER_PRICE_USD = parseFloat(price);
        //     updateLurkerPrices();
        //   });
    </script>
    <script>
        // Sparks effect
        const sparksContainer = document.getElementById('sparks');
        if (sparksContainer) {
            for (let i = 0; i < 12; i++) {
                const spark = document.createElement('div');
                spark.className = 'spark';
                spark.style.left = Math.random() * 100 + '%';
                spark.style.top = Math.random() * 100 + '%';
                spark.style.animationDelay = Math.random() * 2 + 's';
                spark.style.animation = `spark-float ${2 + Math.random() * 2}s ease-in-out infinite`;
                sparksContainer.appendChild(spark);
            }
        }
    </script>
    <script>
        // Load whale alerts
        async function loadWhaleAlerts() {
            try {
                const response = await fetch('https://raw.githubusercontent.com/lurker-base/lurker/main/data/whaleAlerts.json?t=' + Date.now());
                if (!response.ok) throw new Error('Failed to fetch');
                
                const alerts = await response.json();
                if (!Array.isArray(alerts) || alerts.length === 0) return;
                
                const alertsContainer = document.getElementById('whale-alerts');
                if (!alertsContainer) return;
                
                // Clear loading state
                alertsContainer.innerHTML = '';
                
                // Display alerts
                alerts.slice(0, 5).forEach(alert => {
                    const alertEl = document.createElement('div');
                    alertEl.className = `signal-item ${alert.confidence >= 80 ? 'high' : alert.confidence >= 60 ? 'medium' : 'low'}`;
                    
                    const timeAgo = formatTimeAgo(alert.timestamp);
                    
                    let detailsText = '';
                    if (alert.type === 'accumulation') {
                        detailsText = `${alert.details.buys} buys, ${alert.details.totalEth} ETH total`;
                    } else if (alert.type === 'distribution') {
                        detailsText = `${alert.details.sells} sells, ${alert.details.totalEth} ETH to ${alert.details.toExchange || 'exchange'}`;
                    } else if (alert.type === 'awakening') {
                        detailsText = `Dormant ${alert.details.dormantDays} days, woke with ${alert.details.awakeningValue} ETH`;
                    }
                    
                    alertEl.innerHTML = `
                        <div class="signal-header">
                            <span class="signal-badge ${alert.confidence >= 80 ? 'high' : alert.confidence >= 60 ? 'medium' : 'low'}">${alert.emoji} ${alert.label}</span>
                            <span class="signal-time">${timeAgo}</span>
                        </div>
                        <div class="signal-body">
                            <span class="signal-type">${detailsText}</span>
                            <span class="signal-wallet">${alert.walletShort}</span>
                            <span class="signal-amount">${alert.confidence}% confidence</span>
                        </div>
                        <div class="signal-meta">
                            <a href="${alert.explorerLink}" target="_blank" class="signal-link">view on basescan →</a>
                        </div>
                    `;
                    alertsContainer.appendChild(alertEl);
                });
                
            } catch (error) {
                console.log('[SIGHTINGS] Using demo whale data');
            }
        }
        
        function formatTimeAgo(timestamp) {
            const diff = Date.now() - timestamp;
            const mins = Math.floor(diff / 60000);
            if (mins < 1) return 'just now';
            if (mins === 1) return '1m ago';
            if (mins < 60) return `${mins}m ago`;
            const hours = Math.floor(mins / 60);
            return `${hours}h ago`;
        }
        
        // Load alerts
        loadWhaleAlerts();
        
        // Refresh every 30 seconds
        setInterval(loadWhaleAlerts, 30000);
    </script>
    <script src="sparks.js"></script>
</body>
</html>
